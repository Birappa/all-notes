<!DOCTYPE html>
<!-- saved from url=(0094)http://doc-server-ocp-blr.apps.5c3d.openshift.opentlc.com/02_1_HA_Deployment_Solution_Lab.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="generator" content="Asciidoctor 0.1.4"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>HA Deployment Lab</title><style>@import url(http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.0/css/font-awesome.css);
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #003b6b; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #00579e; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Arial, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Arial, sans-serif; font-weight: normal; font-style: normal; color: #7b2d00; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #ff6b15; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; color: #003426; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Arial, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #e15200; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #e15200; }

blockquote, blockquote p { line-height: 1.6; color: #333333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Print styles.  Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ Credit to Paul Irish and HTML5 Boilerplate (html5boilerplate.com)
*/
.print-only { display: none !important; }

@media print { * { background: transparent !important; color: #000 !important; /* Black prints faster: h5bp.com/s */ box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; /* h5bp.com/t */ }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
/* Change -webkit-linear-gradient colors to  #a70000 and remove gradient */
table thead, table tfoot { background: -webkit-linear-gradient(top, #a70000, #a70000); font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: white; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #edf2f2; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; padding: 3px 2px 1px 2px; white-space: nowrap; background-color: #eeeeee; border: 1px solid #dddddd; -webkit-border-radius: 0; border-radius: 0; text-shadow: none; }

pre, pre > code { line-height: 1.6; color: black; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

kbd.keyseq { color: #333333; }

kbd:not(.keyseq) { display: inline-block; color: black; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

kbd kbd:first-child { margin-left: 0; }

kbd kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: black; }

b.button:before { content: '[ '; }

b.button:after { content: ' ]'; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#header { margin-bottom: 2.5em; }
#header > h1 { color: #7b2d00; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #333333; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }

#toctitle { color: #003b6b; }

@media only screen and (min-width: 768px) { body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: .90em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; border-width: 0; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }

#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

.sect1 { padding-bottom: 1.25em; }

.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #7b2d00; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #622400; }

.imageblock, .literalblock, .listingblock, .mathblock, .verseblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }

.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #333333; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }

.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #aaaaaa; box-shadow: 0 1px 8px #aaaaaa; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #003b6b; margin-top: 0; line-height: 1.6; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre:not([class]), .listingblock pre:not([class]) { background: #eeeeee; }
.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border-width: 1px; border-style: dashed; border-color: #666666; -webkit-border-radius: 0; border-radius: 0; padding: 1.25em 1.5625em 1.125em 1.5625em; word-wrap: break-word; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock pre > code, .literalblock pre[class] > code, .listingblock pre > code, .listingblock pre[class] > code { display: block; }
@media only screen { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.72em; } }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.81em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.9em; } }

.listingblock pre.highlight { padding: 0; }
.listingblock pre.highlight > code { padding: 1.25em 1.5625em 1.125em 1.5625em; }

.listingblock > .content { position: relative; }

.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }

.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.sass:before { content: "sass"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }

table.pyhltable { border: 0; margin-bottom: 0; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }

.quoteblock { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 0.75em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: 0.8125em; color: #e15200; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }

table thead th, table tfoot th { font-weight: bold; }

table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 0; border-radius: 0; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }

table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }

table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }

table.tableblock td .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }

th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }

th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }

th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }

th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }

th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }

tbody tr th { display: table-cell; line-height: 1.4; background: -webkit-linear-gradient(top, #add386, #90b66a); }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: white; font-weight: bold; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.375em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .8em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.qanda > ol > li > p > em:only-child { color: #004985; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }

.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #00579e; color: #004176; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum { display: inline-block; color: white !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #dddddd; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }</style><link rel="stylesheet" href="./HA Deployment Lab_files/font-awesome.min.css"><link rel="stylesheet" href="./HA Deployment Lab_files/sunburst.min.css"><script src="./HA Deployment Lab_files/highlight.min.js.download"></script><script>hljs.initHighlightingOnLoad()</script></head><body class="article"><div id="header"></div><div id="content"><div class="sect1"><h2 id="_ha_deployment_lab">HA Deployment Lab</h2><div class="sectionbody"><div class="paragraph"><p>In this lab’s scenario, you are a consultant assigned to MitziCom, a telecommunications company. MitziCom provides hosting and cloud services to a variety of clients, ranging from medium-sized companies to enterprise giants.</p></div>
<div class="paragraph"><p>MitziCom has asked you to lead a 30- to 40-hour proof-of-concept (POC) using Red Hat OpenShift Container Platform. The purpose of the POC is to determine the feasibility of using Red Hat OpenShift Container Platform as a target for internal and client workloads.</p></div>
<div class="paragraph"><p>The lab details a recommended process for meeting MitziCom’s requirements, as defined in the lab’s goals. Information about the infrastructure, DNS names, passwords, and more is provided throughout the lab.</p></div>
<div class="admonitionblock tip"><table><tbody><tr><td class="icon"><i class="icon-tip" title="Tip"></i></td><td class="content">Because the lab does not include all of the required steps and commands, you will want to consult the {ocp_docs} product documentation. This link is especially useful for research and troubleshooting. Your instructor is also available to help you.</td></tr></tbody></table></div>
<div class="paragraph"><div class="title">Goals</div><p>In this lab, you deploy and configure OpenShift Container Platform on a group of servers to meet these requirements:</p></div>
<div class="ulist"><ul><li><p>Configure Red Hat Enterprise Linux (RHEL) hosts for OpenShift deployment</p></li><li><p>Deploy a highly available OpenShift Container Platform cluster</p></li><li><p>Configure the OpenShift Container Platform cluster</p></li></ul></div>
<div class="ulist"><div class="title">Provisioned Environment Hosts</div><ul><li><p>Bastion host: <code>bastion.$GUID.example.opentlc.com</code> and <code>bastion.$GUID.internal</code></p></li><li><p>Load balancer: <code>loadbalancer.$GUID.example.opentlc.com</code> and <code>loadbalancer.$GUID.internal</code></p></li><li><p>3 OpenShift master nodes: <code>master{1-3}.$GUID.internal</code></p></li><li><p>2 OpenShift infrastructure nodes: <code>infranode{1,2}.$GUID.example.opentlc.com</code> and <code>infranode{1,2}.$GUID.internal</code></p></li><li><p>3 OpenShift worker nodes: <code>node{1-3}.$GUID.internal</code></p></li><li><p>NFS server: <code>support1.$GUID.internal</code></p></li><li><p>IPA Server: <code>ipa.shared.example.opentlc.com</code> (shared resource for all students)</p></li></ul></div></div></div>
<div class="sect1"><h2 id="labexercises">1. Configure RHEL Hosts for OpenShift Deployment</h2><div class="sectionbody"><div class="paragraph"><p>In this section, you prepare the hosts for installation. You then make sure that the correct Docker (or CRI-O) version is installed and configured. You also configure yum repositories on the hosts.</p></div>
<div class="sect2"><h3 id="_explore_and_verify_infrastructure_deployment">1.1. Explore and Verify Infrastructure Deployment</h3><div class="paragraph"><p>Instances are already created for you in the Ansible inventory file, <code>/etc/ansible/hosts</code>.  Examine the end of <code>/etc/ansible/hosts</code> and see that it is populated with the hosts in your cluster.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Verify that the Ansible hosts file is populated.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">cat /etc/ansible/hosts</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="texinfo language-texinfo hljs cs"><span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor"># ansible inventory for OpenShift Container Platform  3.11.16</span>
<span class="hljs-preprocessor"># AgnosticD ansible-config: ocp-ha-lab</span>

[OSEv3:vars]

[ ... Lots of stuff omitted ... ]

<span class="hljs-preprocessor">###########################################################################</span>
<span class="hljs-preprocessor">### OpenShift Hosts</span>
<span class="hljs-preprocessor">###########################################################################</span>
<span class="hljs-preprocessor"># openshift_node_labels DEPRECATED</span>
<span class="hljs-preprocessor"># openshift_node_problem_detector_install</span>

[OSEv3:children]
lb
masters
etcd
nodes

[lb]
loadbalancer.GUID.<span class="hljs-keyword">internal</span>

[masters]
master1.GUID.<span class="hljs-keyword">internal</span>
master2.GUID.<span class="hljs-keyword">internal</span>
master3.GUID.<span class="hljs-keyword">internal</span>

[etcd]
master1.GUID.<span class="hljs-keyword">internal</span>
master2.GUID.<span class="hljs-keyword">internal</span>
master3.GUID.<span class="hljs-keyword">internal</span>

[nodes]
<span class="hljs-preprocessor">## These are the masters</span>
master1.GUID.<span class="hljs-keyword">internal</span> openshift_node_group_name=<span class="hljs-string">'node-config-master'</span> openshift_node_problem_detector_install=<span class="hljs-keyword">true</span>
master2.GUID.<span class="hljs-keyword">internal</span> openshift_node_group_name=<span class="hljs-string">'node-config-master'</span> openshift_node_problem_detector_install=<span class="hljs-keyword">true</span>
master3.GUID.<span class="hljs-keyword">internal</span> openshift_node_group_name=<span class="hljs-string">'node-config-master'</span> openshift_node_problem_detector_install=<span class="hljs-keyword">true</span>

<span class="hljs-preprocessor">## These are infranodes</span>
infranode1.GUID.<span class="hljs-keyword">internal</span> openshift_node_group_name=<span class="hljs-string">'node-config-infra'</span> openshift_node_problem_detector_install=<span class="hljs-keyword">true</span>
infranode2.GUID.<span class="hljs-keyword">internal</span> openshift_node_group_name=<span class="hljs-string">'node-config-infra'</span> openshift_node_problem_detector_install=<span class="hljs-keyword">true</span>

<span class="hljs-preprocessor">## These are regular nodes</span>
node1.GUID.<span class="hljs-keyword">internal</span> openshift_node_group_name=<span class="hljs-string">'node-config-compute'</span> openshift_node_problem_detector_install=<span class="hljs-keyword">true</span>
node2.GUID.<span class="hljs-keyword">internal</span> openshift_node_group_name=<span class="hljs-string">'node-config-compute'</span> openshift_node_problem_detector_install=<span class="hljs-keyword">true</span>
node3.GUID.<span class="hljs-keyword">internal</span> openshift_node_group_name=<span class="hljs-string">'node-config-compute'</span> openshift_node_problem_detector_install=<span class="hljs-keyword">true</span></code></pre></div></div></li><li><p>Use the Ansible <code>--list-hosts</code> command to list the masters, nodes, and all of the host groups.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible masters --list-hosts</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs cs">  hosts (<span class="hljs-number">3</span>):
    master1.GUID.<span class="hljs-keyword">internal</span>
    master2.GUID.<span class="hljs-keyword">internal</span>
    master3.GUID.<span class="hljs-keyword">internal</span></code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible nodes --list-hosts</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs cs">  hosts (<span class="hljs-number">8</span>):
    master1.GUID.<span class="hljs-keyword">internal</span>
    master2.GUID.<span class="hljs-keyword">internal</span>
    master3.GUID.<span class="hljs-keyword">internal</span>
    infranode1.GUID.<span class="hljs-keyword">internal</span>
    infranode2.GUID.<span class="hljs-keyword">internal</span>
    node1.GUID.<span class="hljs-keyword">internal</span>
    node2.GUID.<span class="hljs-keyword">internal</span>
    node3.GUID.<span class="hljs-keyword">internal</span></code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible all --list-hosts</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs cs">  hosts (<span class="hljs-number">10</span>):
    master1.GUID.<span class="hljs-keyword">internal</span>
    master2.GUID.<span class="hljs-keyword">internal</span>
    master3.GUID.<span class="hljs-keyword">internal</span>
    infranode1.GUID.<span class="hljs-keyword">internal</span>
    infranode2.GUID.<span class="hljs-keyword">internal</span>
    node1.GUID.<span class="hljs-keyword">internal</span>
    node2.GUID.<span class="hljs-keyword">internal</span>
    node3.GUID.<span class="hljs-keyword">internal</span>
    loadbalancer.GUID.<span class="hljs-keyword">internal</span></code></pre></div></div></li><li><p>Verify that all of your hosts are running:</p><div class="listingblock"><div class="content"><pre>ansible all -m ping</pre></div></div></li></ol></div></div>
<div class="sect2"><h3 id="_verify_installation_and_configuration_of_docker">1.2. Verify Installation and Configuration of Docker</h3><div class="olist arabic"><ol class="arabic"><li><p>Verify that Docker is running on all of the nodes in the cluster.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible nodes -m shell <span class="hljs-operator">-a</span><span class="hljs-string">"systemctl status docker | grep Active"</span></code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs ruby">node1.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
   </span><span class="hljs-constant">Active</span><span class="hljs-symbol">:</span> active (running) since <span class="hljs-constant">Wed</span> <span class="hljs-number">2018</span>-<span class="hljs-number">10</span>-<span class="hljs-number">17</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span> <span class="hljs-constant">UTC</span>; <span class="hljs-number">15</span>h ago

node2.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
   </span><span class="hljs-constant">Active</span><span class="hljs-symbol">:</span> active (running) since <span class="hljs-constant">Wed</span> <span class="hljs-number">2018</span>-<span class="hljs-number">10</span>-<span class="hljs-number">17</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span> <span class="hljs-constant">UTC</span>; <span class="hljs-number">15</span>h ago

node3.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
   </span><span class="hljs-constant">Active</span><span class="hljs-symbol">:</span> active (running) since <span class="hljs-constant">Wed</span> <span class="hljs-number">2018</span>-<span class="hljs-number">10</span>-<span class="hljs-number">17</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span> <span class="hljs-constant">UTC</span>; <span class="hljs-number">15</span>h ago

master2.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
   </span><span class="hljs-constant">Active</span><span class="hljs-symbol">:</span> active (running) since <span class="hljs-constant">Wed</span> <span class="hljs-number">2018</span>-<span class="hljs-number">10</span>-<span class="hljs-number">17</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span> <span class="hljs-constant">UTC</span>; <span class="hljs-number">15</span>h ago

infranode1.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
   </span><span class="hljs-constant">Active</span><span class="hljs-symbol">:</span> active (running) since <span class="hljs-constant">Wed</span> <span class="hljs-number">2018</span>-<span class="hljs-number">10</span>-<span class="hljs-number">17</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span><span class="hljs-symbol">:</span><span class="hljs-number">04</span> <span class="hljs-constant">UTC</span>; <span class="hljs-number">15</span>h ago

infranode2.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
   </span><span class="hljs-constant">Active</span><span class="hljs-symbol">:</span> active (running) since <span class="hljs-constant">Wed</span> <span class="hljs-number">2018</span>-<span class="hljs-number">10</span>-<span class="hljs-number">17</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span> <span class="hljs-constant">UTC</span>; <span class="hljs-number">15</span>h ago

master1.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
   </span><span class="hljs-constant">Active</span><span class="hljs-symbol">:</span> active (running) since <span class="hljs-constant">Wed</span> <span class="hljs-number">2018</span>-<span class="hljs-number">10</span>-<span class="hljs-number">17</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span> <span class="hljs-constant">UTC</span>; <span class="hljs-number">15</span>h ago

master3.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
   </span><span class="hljs-constant">Active</span><span class="hljs-symbol">:</span> active (running) since <span class="hljs-constant">Wed</span> <span class="hljs-number">2018</span>-<span class="hljs-number">10</span>-<span class="hljs-number">17</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span> <span class="hljs-constant">UTC</span>; <span class="hljs-number">15</span>h ago</code></pre></div></div></li><li><p>Make sure that the Docker version is correct for the desired OpenShift version.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible nodes -m shell <span class="hljs-operator">-a</span><span class="hljs-string">"docker version|grep Version"</span></code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs ruby">node1.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
 </span><span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>
 <span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>

node2.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
 </span><span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>
 <span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>

node3.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
 </span><span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>
 <span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>

infranode1.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
 </span><span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>
 <span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>

infranode2.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
 </span><span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>
 <span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>

master1.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
 </span><span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>
 <span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>

master2.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
 </span><span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>
 <span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>

master3.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
 </span><span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span>
 <span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>         <span class="hljs-number">1.13</span>.<span class="hljs-number">1</span></code></pre></div></div></li></ol></div></div>
<div class="sect2"><h3 id="_verify_yum_repositories_and_nfs_shared_volumes_on_hosts">1.3. Verify Yum Repositories and NFS Shared Volumes on Hosts</h3><div class="paragraph"><p>The required Yum repositories and NFS shared volumes are already set up on the environment. In this section, you verify that they are set up properly.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>List the repositories on all of the hosts.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible all -m shell <span class="hljs-operator">-a</span><span class="hljs-string">"yum repolist"</span></code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs objectivec">Loaded plugins: amazon-<span class="hljs-keyword">id</span>, rhui-lb, search-disabled-repos
repo <span class="hljs-keyword">id</span>                                     repo name                                          status
rh-gluster-<span class="hljs-number">3</span>-client-<span class="hljs-keyword">for</span>-rhel-<span class="hljs-number">7</span>-server-rpms  Red Hat Enterprise Linux GlusterFS Client (RPMs)      <span class="hljs-number">195</span>
rhel-<span class="hljs-number">7</span>-server-ansible-<span class="hljs-number">2.6</span>-rpms              Red Hat Enterprise Linux Ansible (RPMs)                <span class="hljs-number">11</span>
rhel-<span class="hljs-number">7</span>-server-extras-rpms                   Red Hat Enterprise Linux <span class="hljs-number">7</span> Extras                     <span class="hljs-number">923</span>
rhel-<span class="hljs-number">7</span>-server-optional-rpms                 Red Hat Enterprise Linux <span class="hljs-number">7</span> Optional                <span class="hljs-number">15</span>,<span class="hljs-number">358</span>
rhel-<span class="hljs-number">7</span>-server-ose-<span class="hljs-number">3.11</span>-rpms                 Red Hat Enterprise Linux <span class="hljs-number">7</span> OSE <span class="hljs-number">3.11</span>                   <span class="hljs-number">228</span>
rhel-<span class="hljs-number">7</span>-server-rh-common-rpms                Red Hat Enterprise Linux <span class="hljs-number">7</span> Common                     <span class="hljs-number">234</span>
rhel-<span class="hljs-number">7</span>-server-rpms                          Red Hat Enterprise Linux <span class="hljs-number">7</span>                         <span class="hljs-number">21</span>,<span class="hljs-number">065</span>
repolist: <span class="hljs-number">38</span>,<span class="hljs-number">014</span>
[...]</code></pre></div></div></li><li><p>Examine the NFS server to see which NFS volumes are shared:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible nfs -m shell <span class="hljs-operator">-a</span><span class="hljs-string">"exportfs"</span></code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs ruby">support1.<span class="hljs-constant">GUID</span>.internal | <span class="hljs-constant">SUCCESS</span> | rc=<span class="hljs-number">0</span> <span class="hljs-prompt">&gt;&gt;
</span>/srv/nfs      	&lt;world&gt;</code></pre></div></div></li></ol></div></div></div></div>
<div class="sect1"><h2 id="_deploy_highly_available_openshift_cluster">2. Deploy Highly Available OpenShift Cluster</h2><div class="sectionbody"><div class="paragraph"><p>In this section, you use the Ansible advanced installer to deploy OpenShift as a clustered, highly available installation that includes a load balancer in front of the API servers. The environment includes three masters, two infrastructure nodes, three worker nodes, and the load balancer. The environment also supports several hosted components of OpenShift, such as the integrated container registry, the routers, the service catalog, metrics, and aggregated logging.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>To prepare for the installation on the <code>bastion</code> host, install the <code>atomic-openshift-clients</code> package, which includes the OpenShift client software and the <code>openshift-ansible</code> package, which includes the installer and has Ansible and the playbooks as dependencies. You may find that these packages are already installed.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">yum -y install atomic-openshift-clients openshift-ansible</code></pre></div></div></li></ol></div>
<div class="sect2"><h3 id="_review_requirements_for_openshift_deployment">2.1. Review Requirements for OpenShift Deployment</h3><div class="paragraph"><p>You can find the Ansible inventory file in the default location, <code>/etc/ansible/hosts</code>. It is used to define and configure the OpenShift cluster.</p></div>
<div class="admonitionblock note"><table><tbody><tr><td class="icon"><i class="icon-note" title="Note"></i></td><td class="content">Red Hat has provided you with an inventory file in <code>/etc/ansible/hosts</code> that has the parameters in the proper place, but leaves it up to you to find their correct values.</td></tr></tbody></table></div>
<div class="paragraph"><p>Your OpenShift Container Platform cluster is expected to have the following characteristics defined in the inventory file:</p></div>
<div class="ulist"><ul><li><p>Three master hosts in the deployment</p></li><li><p>A load balancer to access the masters that is configured with <code>loadbalancer.${GUID}.example.opentlc.com</code> as the external DNS entry and <code>loadbalancer.${GUID}.internal</code> as the internal DNS entry</p></li><li><p>Two infrastructure nodes, each running a router</p></li><li><p>One support node, for NFS</p></li><li><p>An integrated registry pod backed by persistent volume (PV) storage</p></li><li><p>Router pods deployed, configured, and running on each infrastructure node in the cluster</p></li><li><p>Aggregated logging configured and working</p></li><li><p>Metrics collection configured and working</p></li><li><p>All hosted components (router, registry, Prometheus, logging, metrics, service brokers) running on infrastructure nodes</p></li><li><p>A <code>*.apps.${GUID}.example.opentlc.com</code> wildcard DNS entry that points to the infrastructure nodes</p></li></ul></div></div>
<div class="sect2"><h3 id="_configure_authentication_against_ipa_ldap_server">2.2. Configure Authentication Against IPA (LDAP) Server</h3><div class="paragraph"><p>In this section, you edit the Ansible inventory file to configure the OpenShift master API servers to authenticate against an existing IPA (LDAP) server. After installation by the <code>openshift-ansible</code> deployer is complete, you synchronize or create OpenShift group objects to match the groups that are configured in IPA.</p></div>
<div class="sect3"><h4 id="_distribute_identity_management_idm_certificate_authority_certificates">2.2.1. Distribute Identity Management (IdM) Certificate Authority Certificates</h4><div class="paragraph"><p>The IPA server sets up its own Certificate Authority (CA) and does not use the same CA as your RHOCP installation. In order for RHOCP to make secured LDAP requests to the IPA server, your master servers need the CA certificate.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>On the <code>bastion</code> host, download the <code>ca.crt</code> file:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash"><span class="hljs-built_in">cd</span> /root
wget http://ipa.shared.example.opentlc.com/ipa/config/ca.crt -O /root/ipa-ca.crt</code></pre></div></div></li></ol></div></div>
<div class="sect3"><h4 id="_set_up_ipa_as_authentication_provider">2.2.2. Set Up IPA as Authentication Provider</h4><div class="olist arabic"><ol class="arabic"><li><p>Configure LDAP authentication using the Ansible installer and the following information to set up the authentication provider in the Ansible inventory file:</p><div class="ulist"><ul><li><p><strong>bindDN</strong>: <code>uid=admin,cn=users,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com</code></p></li><li><p><strong>bindPassword</strong>: <code>r3dh4t1!</code></p></li><li><p><strong>ca</strong>: <code>/etc/origin/master/ldap_ldap_ca.crt</code></p></li><li><p><strong>url</strong>:</p><div class="listingblock"><div class="content"><pre class="highlight nowrap"><code class="texinfo language-texinfo hljs cpp">ldaps:<span class="hljs-comment">//ipa.shared.example.opentlc.com:636/cn=users,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com?uid?sub?(memberOf=cn=ocp-users,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com)</span></code></pre></div></div></li></ul></div></li><li><p>Use the <code>openshift_master_ldap_ca_file</code> variable to copy the certificate to the masters.</p></li><li><p>Make sure that the <code>/etc/ansible/hosts</code> file contains the following in the <code>[OSEv3:vars]</code> section and that the file does not contain any other values for <code>openshift_master_identity_provider</code>:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs javascript">openshift_master_identity_providers=[{<span class="hljs-string">'name'</span>: <span class="hljs-string">'ldap'</span>, <span class="hljs-string">'challenge'</span>: <span class="hljs-string">'true'</span>, <span class="hljs-string">'login'</span>: <span class="hljs-string">'true'</span>, <span class="hljs-string">'kind'</span>: <span class="hljs-string">'LDAPPasswordIdentityProvider'</span>,<span class="hljs-string">'attributes'</span>: {<span class="hljs-string">'id'</span>: [<span class="hljs-string">'dn'</span>], <span class="hljs-string">'email'</span>: [<span class="hljs-string">'mail'</span>], <span class="hljs-string">'name'</span>: [<span class="hljs-string">'cn'</span>], <span class="hljs-string">'preferredUsername'</span>: [<span class="hljs-string">'uid'</span>]}, <span class="hljs-string">'bindDN'</span>: <span class="hljs-string">'uid=admin,cn=users,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com'</span>, <span class="hljs-string">'bindPassword'</span>: <span class="hljs-string">'r3dh4t1!'</span>, <span class="hljs-string">'ca'</span>: <span class="hljs-string">'/etc/origin/master/ldap_ldap_ca.crt'</span>,<span class="hljs-string">'insecure'</span>: <span class="hljs-string">'false'</span>, <span class="hljs-string">'url'</span>: <span class="hljs-string">'ldaps://ipa.shared.example.opentlc.com:636/cn=users,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com?uid?sub?(memberOf=cn=ocp-users,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com)'</span>}]

openshift_master_ldap_ca_file=<span class="hljs-regexp">/root/i</span>pa-ca.crt</code></pre></div></div></li></ol></div></div>
<div class="sect3"><h4 id="_set_up_openshift_hosted_components">2.2.3. Set Up OpenShift Hosted Components</h4><div class="olist arabic"><ol class="arabic"><li><p>Continue to edit your Ansible inventory file, now addressing hosted components:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>OpenShift registries</p><div class="ulist"><ul><li><p>As of version 3.11, OpenShift is installed by authenticating to the <code>registry.redhat.io</code> registries and the old registry, <code>registry.access.redhat.com</code>.</p></li><li><p>Ask your instructor for the proper authentication credentials for your lab.</p></li></ul></div></li><li><p><code>openshift_hosted_infra_selector=</code> ???</p><div class="ulist"><ul><li><p>Default node selector for infrastructure components (<em>only</em> for router/registry/template service broker/OpenShift Ansible Broker)</p></li><li><p>Consider using the deprecated <code>openshift_hosted_infra_selector=</code> variable if you do not set selectors for each hosted component.</p></li></ul></div></li><li><p>Logging components: Elasticsearch, Kibana, Logging Curator</p><div class="ulist"><ul><li><p>Find several proper parameters for logging and associated storage.</p></li></ul></div></li><li><p>Metrics components: Prometheus, Cassandra, Hawkular, Heapster</p><div class="ulist"><ul><li><p>Find several proper parameters for metrics and associated storage.</p></li></ul></div></li><li><p>Service Catalog components: API server, Template Service Broker, OpenShift Ansible Broker</p><div class="ulist"><ul><li><p>Find several proper parameters for the service catalog and its associated storage.</p></li></ul></div></li><li><p>Operator Lifecycle Manager (OLM) (Technology Preview)</p><div class="ulist"><ul><li><p>The OLM is necessary for manipulating operators in the web console.</p></li></ul></div></li></ol></div></li></ol></div>
<div class="admonitionblock tip"><table><tbody><tr><td class="icon"><i class="icon-tip" title="Tip"></i></td><td class="content">Consult the fully populated and working solution hosts file, available in <code>/var/preserve/hosts</code> on your <code>bastion</code> host—the only item missing is the Service Account for the registries.</td></tr></tbody></table></div></div></div>
<div class="sect2"><h3 id="_execute_code_openshift_ansible_code_installer">2.3. Execute <code>openshift-ansible</code> Installer</h3><div class="olist arabic"><ol class="arabic"><li><p>Run <code>ansible-playbook</code> to check that all prerequisites are met.</p><div class="ulist"><ul><li><p>Expect it to take less than five minutes.</p><div class="admonitionblock tip"><table><tbody><tr><td class="icon"><i class="icon-tip" title="Tip"></i></td><td class="content"><div class="paragraph"><p>Use <a href="https://tmuxcheatsheet.com/" target="_blank">tmux</a> before any <code>ansible-playbook</code> runs. To enable scrolling in the tmux window, use <strong>Ctrl+B</strong> (then <strong>Ctrl+B Q</strong> to quit scroll mode).</p></div>
<div class="paragraph"><p>On a Mac, use <a href="https://www.iterm2.com/">"iTerm2^"</a>, then you can use <code>tmux -CC</code> to create a secondary tab with full scrollback capability.</p></div></td></tr></tbody></table></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash"><span class="hljs-built_in">cd</span> /usr/share/ansible/openshift-ansible/
ansible-playbook playbooks/prerequisites.yml</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs markdown">PLAY RECAP <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
infranode1.GUID.internal  : ok=50   changed=19   unreachable=0    failed=0
infranode2.GUID.internal  : ok=50   changed=19   unreachable=0    failed=0
loadbalancer.GUID.internal : ok=25   changed=7    unreachable=0    failed=0
localhost                  : ok=13   changed=0    unreachable=0    failed=0
master1.GUID.internal      : ok=62   changed=13   unreachable=0    failed=0
master2.GUID.internal      : ok=62   changed=13   unreachable=0    failed=0
master3.GUID.internal      : ok=68   changed=14   unreachable=0    failed=0
node1.GUID.internal        : ok=61   changed=13   unreachable=0    failed=0
node2.GUID.internal        : ok=61   changed=13   unreachable=0    failed=0
node3.GUID.internal        : ok=61   changed=13   unreachable=0    failed=0

INSTALLER STATUS <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>**
Initialization             : Complete (0:00:27)
master1.GUID.internal     : ok=64   changed=20   unreachable=0    failed=0
master2.GUID.internal     : ok=53   changed=19   unreachable=0    failed=0
master3.GUID.internal     : ok=53   changed=19   unreachable=0    failed=0
node1.GUID.internal       : ok=50   changed=19   unreachable=0    failed=0
node2.GUID.internal       : ok=50   changed=19   unreachable=0    failed=0

INSTALLER STATUS <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
Initialization  : Complete (0:01:35)
<span class="hljs-header">Thursday 18 October 2018  19:02:05 +0000 (0:00:00.389)       0:03:03.080 ******
===============================================================================</span>
Ensure openshift-ansible installer package deps are installed ---------------------------------------------------------------------- 38.10s
Run variable sanity checks --------------------------------------------------------------------------------------------------------- 25.07s
container_runtime : Install Docker ------------------------------------------------------------------------------------------------- 14.30s
os_firewall : need to pause here, otherwise the iptables service starting can sometimes cause ssh to fail -------------------------- 10.11s
openshift_excluder : Install docker excluder - yum ---------------------------------------------------------------------------------- 5.29s
container_runtime : restart container runtime --------------------------------------------------------------------------------------- 3.86s
container<span class="hljs-emphasis">_runtime : Create credentials for oreg_</span>url --------------------------------------------------------------------------------- 3.78s
os_firewall : Start and enable iptables service ------------------------------------------------------------------------------------- 3.75s
Query DNS for IP address of master1.GUID.internal ----------------------------------------------------------------------------------- 2.00s
Gathering Facts --------------------------------------------------------------------------------------------------------------------- 1.66s
container_runtime : Fixup SELinux permissions for docker ---------------------------------------------------------------------------- 1.42s
os_firewall : Install iptables packages --------------------------------------------------------------------------------------------- 1.22s
Gathering Facts --------------------------------------------------------------------------------------------------------------------- 1.06s
Gather Cluster facts ---------------------------------------------------------------------------------------------------------------- 1.02s
openshift_repos : refresh cache ----------------------------------------------------------------------------------------------------- 0.94s
Initialize openshift.node.sdn_mtu --------------------------------------------------------------------------------------------------- 0.90s
container_runtime : Configure Docker service unit file ------------------------------------------------------------------------------ 0.90s
openshift_repos : Ensure libselinux-python is installed ----------------------------------------------------------------------------- 0.80s
container_runtime : Get current installed Docker version ---------------------------------------------------------------------------- 0.79s
openshift_excluder : Enable docker excluder ----------------------------------------------------------------------------------------- 0.76s</code></pre></div></div></li></ul></div></li><li><p>Run <code>ansible-playbook</code> to deploy your cluster.</p><div class="ulist"><ul><li><p>This takes about 30 minutes.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash"><span class="hljs-built_in">cd</span> /usr/share/ansible/openshift-ansible
ansible-playbook playbooks/deploy_cluster.yml</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs sql">PLAY RECAP *********************************************************************************************************************************
infranode1.GUID.internal  : ok=114  changed=64   unreachable=0    failed=0
infranode2.GUID.internal  : ok=114  changed=64   unreachable=0    failed=0
loadbalancer.GUID.internal : ok=27   changed=10   unreachable=0    failed=0
localhost                  : ok=13   changed=0    unreachable=0    failed=0
master1.GUID.internal     : ok=1268 changed=543  unreachable=0    failed=0
master2.GUID.internal     : ok=286  changed=151  unreachable=0    failed=0
master3.GUID.internal     : ok=286  changed=151  unreachable=0    failed=0
node1.GUID.internal       : ok=113  changed=63   unreachable=0    failed=0
node2.GUID.internal       : ok=113  changed=63   unreachable=0    failed=0

INSTALLER STATUS ***************************************************************************************************************************
Initialization                 : Complete (0:00:33)
Health <span class="hljs-operator"><span class="hljs-keyword">Check</span>                   : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">16</span>)
Node Bootstrap Preparation     : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">03</span>:<span class="hljs-number">37</span>)
etcd <span class="hljs-keyword">Install</span>                   : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">44</span>)
<span class="hljs-keyword">Load</span> Balancer <span class="hljs-keyword">Install</span>          : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">13</span>)
<span class="hljs-keyword">Master</span> <span class="hljs-keyword">Install</span>                 : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">04</span>:<span class="hljs-number">46</span>)
<span class="hljs-keyword">Master</span> Additional <span class="hljs-keyword">Install</span>      : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">41</span>)
Node <span class="hljs-keyword">Join</span>                      : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">53</span>)
Hosted <span class="hljs-keyword">Install</span>                 : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">59</span>)
Cluster Monitoring Operator    : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">39</span>)
Web Console <span class="hljs-keyword">Install</span>            : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">29</span>)
Console <span class="hljs-keyword">Install</span>                : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">24</span>)
Metrics <span class="hljs-keyword">Install</span>                : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">01</span>:<span class="hljs-number">31</span>)
metrics-<span class="hljs-keyword">server</span> <span class="hljs-keyword">Install</span>         : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">32</span>)
Logging <span class="hljs-keyword">Install</span>                : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">02</span>:<span class="hljs-number">34</span>)
Prometheus <span class="hljs-keyword">Install</span>             : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">35</span>)
Service <span class="hljs-keyword">Catalog</span> <span class="hljs-keyword">Install</span>        : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">01</span>:<span class="hljs-number">34</span>)
OLM <span class="hljs-keyword">Install</span>                    : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">31</span>)
Node Problem Detector <span class="hljs-keyword">Install</span>  : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">07</span>)
Thursday <span class="hljs-number">18</span> October <span class="hljs-number">2018</span>  <span class="hljs-number">19</span>:<span class="hljs-number">32</span>:<span class="hljs-number">54</span> +<span class="hljs-number">0000</span> (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00.048</span>)       <span class="hljs-number">0</span>:<span class="hljs-number">26</span>:<span class="hljs-number">15.265</span> ******
===============================================================================
openshift_control_plane : Wait <span class="hljs-keyword">for</span> <span class="hljs-keyword">all</span> control plane pods <span class="hljs-keyword">to</span> become ready <span class="hljs-comment">---------------------------------------------------------- 77.39s</span>
openshift_control_plane : Wait <span class="hljs-keyword">for</span> control plane pods <span class="hljs-keyword">to</span> appear <span class="hljs-comment">-------------------------------------------------------------------- 45.94s</span>
Approve node certificates <span class="hljs-keyword">when</span> bootstrapping <span class="hljs-comment">--------------------------------------------------------------------------------------- 40.65s</span>
openshift_cluster_monitoring_operator : Wait <span class="hljs-keyword">for</span> the ServiceMonitor CRD <span class="hljs-keyword">to</span> be created <span class="hljs-comment">---------------------------------------------- 30.86s</span>
openshift_node : <span class="hljs-keyword">install</span> needed rpm(s) <span class="hljs-comment">--------------------------------------------------------------------------------------------- 29.99s</span>
openshift_node : <span class="hljs-keyword">Install</span> node, clients, <span class="hljs-keyword">and</span> conntrack packages <span class="hljs-comment">--------------------------------------------------------------------- 29.92s</span>
openshift_web_console : Verify that the console <span class="hljs-keyword">is</span> running <span class="hljs-comment">------------------------------------------------------------------------- 21.62s</span>
openshift_ca : <span class="hljs-keyword">Install</span> the base package <span class="hljs-keyword">for</span> admin tooling <span class="hljs-comment">-------------------------------------------------------------------------- 16.85s</span>
openshift_console : Waiting <span class="hljs-keyword">for</span> console rollout <span class="hljs-keyword">to</span> complete <span class="hljs-comment">------------------------------------------------------------------------ 16.10s</span>
Run health checks (<span class="hljs-keyword">install</span>) - EL <span class="hljs-comment">--------------------------------------------------------------------------------------------------- 15.61s</span>
openshift_service_catalog : oc_process <span class="hljs-comment">--------------------------------------------------------------------------------------------- 14.76s</span>
Run variable sanity checks <span class="hljs-comment">--------------------------------------------------------------------------------------------------------- 14.11s</span>
template_service_broker : Verify that TSB <span class="hljs-keyword">is</span> running <span class="hljs-comment">------------------------------------------------------------------------------- 12.07s</span>
openshift_hosted : Wait <span class="hljs-keyword">for</span> registry pods <span class="hljs-comment">------------------------------------------------------------------------------------------ 11.17s</span>
openshift_node : <span class="hljs-keyword">Install</span> Ceph storage <span class="hljs-keyword">plugin</span> dependencies <span class="hljs-comment">-------------------------------------------------------------------------- 11.09s</span></span></code></pre></div></div>
<div class="admonitionblock warning"><table><tbody><tr><td class="icon"><i class="icon-warning" title="Warning"></i></td><td class="content"><div class="paragraph"><p>If your installation fails, check the following:</p></div>
<div class="ulist"><ul><li><p>If you changed the SDN or certificates, uninstall the entire cluster, and then reinstall the cluster with <code>deploy_cluster</code>.</p></li><li><p>If you deployed OCS, uninstall OCS, and then reinstall OCS with <code>deploy_cluster</code>.</p></li></ul></div></td></tr></tbody></table></div></li></ul></div></li></ol></div></div>
<div class="sect2"><h3 id="_uninstall_openshift_reference">2.4. Uninstall OpenShift (Reference)</h3><div class="paragraph"><p>In case you need to uninstall OpenShift, follow the instructions at <a href="https://docs.openshift.com/container-platform/3.11/install/uninstalling_cluster.html" target="_blank">https://docs.openshift.com/container-platform/3.11/install/uninstalling_cluster.html</a>.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Run the uninstall playbook:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible-playbook /usr/share/ansible/openshift-ansible/playbooks/adhoc/uninstall.yml</code></pre></div></div></li><li><p>After the playbook run completes, it is also usually necessary to delete all leftover content, such as certificates, in the <code>/etc/origin</code> directories on all masters and nodes:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible nodes <span class="hljs-operator">-a</span> <span class="hljs-string">"rm -rf /etc/origin"</span></code></pre></div></div></li><li><p>Finally, you must delete all data from the NFS server:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible nfs <span class="hljs-operator">-a</span> <span class="hljs-string">"rm -rf /srv/nfs/*"</span></code></pre></div></div></li></ol></div></div></div></div>
<div class="sect1"><h2 id="_verify_openshift_cluster">3. Verify OpenShift Cluster</h2><div class="sectionbody"><div class="paragraph"><p>In this section, you verify that the proper configuration and components have been deployed in accordance with your Ansible inventory file.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Once the installation is complete, copy the <code>.kube</code> directory from <code>master1</code> to your <code>bastion</code> host:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ansible masters[<span class="hljs-number">0</span>] -b -m fetch <span class="hljs-operator">-a</span> <span class="hljs-string">"src=/root/.kube/config dest=/root/.kube/config flat=yes"</span></code></pre></div></div>
<div class="ulist"><ul><li><p>This enables you to run <code>oc</code> commands as <code>system:admin</code> on the <code>bastion</code> host without using SSH to access a master.</p></li></ul></div></li><li><p>Verify that you are now <code>system:admin</code>:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc whoami</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs css"><span class="hljs-tag">system</span><span class="hljs-pseudo">:admin</span></code></pre></div></div></li></ol></div>
<div class="sect2"><h3 id="_verify_configuration">3.1. Verify Configuration</h3><div class="olist arabic"><ol class="arabic"><li><p>Run <code>oc get nodes</code> to display the nodes:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc get nodes --show-labels</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="texinfo language-texinfo hljs cs">NAME                       STATUS    ROLES     AGE       VERSION           LABELS
infranode1.GUID.<span class="hljs-keyword">internal</span>   Ready     infra     <span class="hljs-number">8</span>m        v1<span class="hljs-number">.10</span><span class="hljs-number">.0</span>+b81c8f8   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=infranode1.GUID.<span class="hljs-keyword">internal</span>,logging-infra-fluentd=<span class="hljs-keyword">true</span>,node-role.kubernetes.io/infra=<span class="hljs-keyword">true</span>,runtime=docker
infranode2.GUID.<span class="hljs-keyword">internal</span>   Ready     infra     <span class="hljs-number">8</span>m        v1<span class="hljs-number">.10</span><span class="hljs-number">.0</span>+b81c8f8   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=infranode2.GUID.<span class="hljs-keyword">internal</span>,logging-infra-fluentd=<span class="hljs-keyword">true</span>,node-role.kubernetes.io/infra=<span class="hljs-keyword">true</span>,runtime=docker
master1.GUID.<span class="hljs-keyword">internal</span>      Ready     master    <span class="hljs-number">14</span>m       v1<span class="hljs-number">.10</span><span class="hljs-number">.0</span>+b81c8f8   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=master1.GUID.<span class="hljs-keyword">internal</span>,logging-infra-fluentd=<span class="hljs-keyword">true</span>,node-role.kubernetes.io/master=<span class="hljs-keyword">true</span>,runtime=docker
master2.GUID.<span class="hljs-keyword">internal</span>      Ready     master    <span class="hljs-number">14</span>m       v1<span class="hljs-number">.10</span><span class="hljs-number">.0</span>+b81c8f8   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=master2.GUID.<span class="hljs-keyword">internal</span>,logging-infra-fluentd=<span class="hljs-keyword">true</span>,node-role.kubernetes.io/master=<span class="hljs-keyword">true</span>,runtime=docker
master3.GUID.<span class="hljs-keyword">internal</span>      Ready     master    <span class="hljs-number">14</span>m       v1<span class="hljs-number">.10</span><span class="hljs-number">.0</span>+b81c8f8   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=master3.GUID.<span class="hljs-keyword">internal</span>,logging-infra-fluentd=<span class="hljs-keyword">true</span>,node-role.kubernetes.io/master=<span class="hljs-keyword">true</span>,runtime=docker
node1.GUID.<span class="hljs-keyword">internal</span>        Ready     compute   <span class="hljs-number">8</span>m        v1<span class="hljs-number">.10</span><span class="hljs-number">.0</span>+b81c8f8   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=node1.GUID.<span class="hljs-keyword">internal</span>,logging-infra-fluentd=<span class="hljs-keyword">true</span>,node-role.kubernetes.io/compute=<span class="hljs-keyword">true</span>,runtime=docker
node2.GUID.<span class="hljs-keyword">internal</span>        Ready     compute   <span class="hljs-number">8</span>m        v1<span class="hljs-number">.10</span><span class="hljs-number">.0</span>+b81c8f8   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=node2.GUID.<span class="hljs-keyword">internal</span>,logging-infra-fluentd=<span class="hljs-keyword">true</span>,node-role.kubernetes.io/compute=<span class="hljs-keyword">true</span>,runtime=docker
node3.GUID.<span class="hljs-keyword">internal</span>        Ready     compute   <span class="hljs-number">8</span>m        v1<span class="hljs-number">.10</span><span class="hljs-number">.0</span>+b81c8f8   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=node2.GUID.<span class="hljs-keyword">internal</span>,logging-infra-fluentd=<span class="hljs-keyword">true</span>,node-role.kubernetes.io/compute=<span class="hljs-keyword">true</span>,runtime=docker</code></pre></div></div></li><li><p>Validate that all pods are running (not pending) and on the correct nodes:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc get pod --all-namespaces -o wide</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="texinfo language-texinfo hljs cs">oc <span class="hljs-keyword">get</span> pods --all-namespaces -o wide
NAMESPACE                           NAME                                       READY     STATUS      RESTARTS   AGE       IP              NODE
<span class="hljs-keyword">default</span>                             docker-registry-<span class="hljs-number">1</span>-xzzmz                    <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">8</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.2</span><span class="hljs-number">.2</span>      infranode1.GUID.<span class="hljs-keyword">internal</span>
<span class="hljs-keyword">default</span>                             registry-console-<span class="hljs-number">1</span>-<span class="hljs-number">5</span>ttgw                   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">8</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span>      master1.GUID.<span class="hljs-keyword">internal</span>
<span class="hljs-keyword">default</span>                             router-<span class="hljs-number">1</span>-kf78n                             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">8</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.234</span>   infranode1.GUID.<span class="hljs-keyword">internal</span>
<span class="hljs-keyword">default</span>                             router-<span class="hljs-number">1</span>-kgcnk                             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">8</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.148</span>   infranode2.GUID.<span class="hljs-keyword">internal</span>
kube-service-catalog                apiserver-<span class="hljs-number">9</span>skh4                            <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.0</span><span class="hljs-number">.5</span>      master2.GUID.<span class="hljs-keyword">internal</span>
kube-service-catalog                apiserver-txgqh                            <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">10.130</span><span class="hljs-number">.0</span><span class="hljs-number">.4</span>      master3.GUID.<span class="hljs-keyword">internal</span>
kube-service-catalog                apiserver-xv2n6                            <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.0</span><span class="hljs-number">.5</span>      master1.GUID.<span class="hljs-keyword">internal</span>
kube-service-catalog                controller-manager-<span class="hljs-number">89</span>wkb                   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">10.130</span><span class="hljs-number">.0</span><span class="hljs-number">.5</span>      master3.GUID.<span class="hljs-keyword">internal</span>
kube-service-catalog                controller-manager-jb2qc                   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.0</span><span class="hljs-number">.6</span>      master2.GUID.<span class="hljs-keyword">internal</span>
kube-service-catalog                controller-manager-mvpkf                   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.0</span><span class="hljs-number">.6</span>      master1.GUID.<span class="hljs-keyword">internal</span>
kube-system                         master-api-master1.GUID.<span class="hljs-keyword">internal</span>           <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">14</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.204</span>   master1.GUID.<span class="hljs-keyword">internal</span>
kube-system                         master-api-master2.GUID.<span class="hljs-keyword">internal</span>           <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">14</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.63</span>    master2.GUID.<span class="hljs-keyword">internal</span>
kube-system                         master-api-master3.GUID.<span class="hljs-keyword">internal</span>           <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">14</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.215</span>   master3.GUID.<span class="hljs-keyword">internal</span>
kube-system                         master-controllers-master1.GUID.<span class="hljs-keyword">internal</span>   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">14</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.204</span>   master1.GUID.<span class="hljs-keyword">internal</span>
kube-system                         master-controllers-master2.GUID.<span class="hljs-keyword">internal</span>   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">14</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.63</span>    master2.GUID.<span class="hljs-keyword">internal</span>
kube-system                         master-controllers-master3.GUID.<span class="hljs-keyword">internal</span>   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">14</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.215</span>   master3.GUID.<span class="hljs-keyword">internal</span>
kube-system                         master-etcd-master1.GUID.<span class="hljs-keyword">internal</span>          <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">14</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.204</span>   master1.GUID.<span class="hljs-keyword">internal</span>
kube-system                         master-etcd-master2.GUID.<span class="hljs-keyword">internal</span>          <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">14</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.63</span>    master2.GUID.<span class="hljs-keyword">internal</span>
kube-system                         master-etcd-master3.GUID.<span class="hljs-keyword">internal</span>          <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">14</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.215</span>   master3.GUID.<span class="hljs-keyword">internal</span>
openshift-ansible-service-broker    asb-<span class="hljs-number">1</span>-lbntn                                <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">3</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.2</span><span class="hljs-number">.10</span>     infranode1.GUID.<span class="hljs-keyword">internal</span>
openshift-infra                     hawkular-cassandra-<span class="hljs-number">1</span>-<span class="hljs-number">6</span>nsnd                 <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">7</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.2</span><span class="hljs-number">.6</span>      infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-infra                     hawkular-metrics-rwr86                     <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">7</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.2</span><span class="hljs-number">.4</span>      infranode1.GUID.<span class="hljs-keyword">internal</span>
openshift-infra                     hawkular-metrics-schema-szc8m              <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Completed   <span class="hljs-number">0</span>          <span class="hljs-number">7</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.2</span><span class="hljs-number">.4</span>      infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-infra                     heapster-xlz5l                             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">7</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.2</span><span class="hljs-number">.7</span>      infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-curator-<span class="hljs-number">1</span>-<span class="hljs-number">4</span>jtgz                    <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">5</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.2</span><span class="hljs-number">.9</span>      infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-es-data-master-v6jijv2s-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.2</span><span class="hljs-number">.8</span>      infranode1.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-es-data-master-v6jijv2s-<span class="hljs-number">1</span>-gwpzc    <span class="hljs-number">0</span>/<span class="hljs-number">2</span>       Pending     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        &lt;none&gt;          &lt;none&gt;
openshift-logging                   logging-fluentd-<span class="hljs-number">46</span>njb                      <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">5</span>m        <span class="hljs-number">10.130</span><span class="hljs-number">.0</span><span class="hljs-number">.3</span>      master3.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-fluentd-<span class="hljs-number">5</span>qxx7                      <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">5</span>m        <span class="hljs-number">10.131</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span>      node2.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-fluentd-b2rk2                      <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">5</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.0</span><span class="hljs-number">.4</span>      master1.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-fluentd-gv277                      <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">5</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.2</span><span class="hljs-number">.10</span>     infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-fluentd-hnssc                      <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">5</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.0</span><span class="hljs-number">.4</span>      master2.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-fluentd-t8fhn                      <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">5</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.2</span><span class="hljs-number">.7</span>      infranode1.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-fluentd-zlk47                      <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">5</span>m        <span class="hljs-number">10.130</span><span class="hljs-number">.2</span><span class="hljs-number">.2</span>      node1.GUID.<span class="hljs-keyword">internal</span>
openshift-logging                   logging-kibana-<span class="hljs-number">1</span>-nkqfv                     <span class="hljs-number">2</span>/<span class="hljs-number">2</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">5</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.2</span><span class="hljs-number">.8</span>      infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-metrics                   prometheus-<span class="hljs-number">0</span>                               <span class="hljs-number">6</span>/<span class="hljs-number">6</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.2</span><span class="hljs-number">.11</span>     infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-metrics                   prometheus-node-exporter-<span class="hljs-number">42</span>x46             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.148</span>   infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-metrics                   prometheus-node-exporter-hdl6q             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.215</span>   master3.GUID.<span class="hljs-keyword">internal</span>
openshift-metrics                   prometheus-node-exporter-jx4sj             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.204</span>   master1.GUID.<span class="hljs-keyword">internal</span>
openshift-metrics                   prometheus-node-exporter-k8zvc             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.104</span>   node2.GUID.<span class="hljs-keyword">internal</span>
openshift-metrics                   prometheus-node-exporter-l8nzn             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.63</span>    master2.GUID.<span class="hljs-keyword">internal</span>
openshift-metrics                   prometheus-node-exporter-pg8lb             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.156</span>   node1.GUID.<span class="hljs-keyword">internal</span>
openshift-metrics                   prometheus-node-exporter-xzh4f             <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">4</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.234</span>   infranode1.GUID.<span class="hljs-keyword">internal</span>
openshift-node                      sync-f7mdw                                 <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.148</span>   infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-node                      sync-k5t9l                                 <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.104</span>   node2.GUID.<span class="hljs-keyword">internal</span>
openshift-node                      sync-lpc6c                                 <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.234</span>   infranode1.GUID.<span class="hljs-keyword">internal</span>
openshift-node                      sync-stx2x                                 <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">13</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.215</span>   master3.GUID.<span class="hljs-keyword">internal</span>
openshift-node                      sync-t77rn                                 <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.156</span>   node1.GUID.<span class="hljs-keyword">internal</span>
openshift-node                      sync-v5xhb                                 <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">13</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.63</span>    master2.GUID.<span class="hljs-keyword">internal</span>
openshift-node                      sync-vjcm7                                 <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">13</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.204</span>   master1.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       ovs-<span class="hljs-number">2</span>jjkm                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">13</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.63</span>    master2.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       ovs-<span class="hljs-number">97</span>g5d                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">13</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.204</span>   master1.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       ovs-<span class="hljs-number">9</span>bc7g                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.156</span>   node1.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       ovs-kd9GUID                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.148</span>   infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       ovs-n9bmq                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">13</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.215</span>   master3.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       ovs-nk66h                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.234</span>   infranode1.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       ovs-rg7q6                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.104</span>   node2.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       sdn-<span class="hljs-number">92</span>vgx                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.148</span>   infranode2.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       sdn-bgqvz                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.234</span>   infranode1.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       sdn-bp2b6                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">13</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.204</span>   master1.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       sdn-fjgjk                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.104</span>   node2.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       sdn-w46w8                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">13</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.63</span>    master2.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       sdn-xf65q                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">13</span>m       <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.215</span>   master3.GUID.<span class="hljs-keyword">internal</span>
openshift-sdn                       sdn-zztcr                                  <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">9</span>m        <span class="hljs-number">192.199</span><span class="hljs-number">.0</span><span class="hljs-number">.156</span>   node1.GUID.<span class="hljs-keyword">internal</span>
openshift-template-service-broker   apiserver-<span class="hljs-number">7</span>zcx8                            <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">3</span>m        <span class="hljs-number">10.130</span><span class="hljs-number">.0</span><span class="hljs-number">.6</span>      master3.GUID.<span class="hljs-keyword">internal</span>
openshift-template-service-broker   apiserver-fst29                            <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">3</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.0</span><span class="hljs-number">.7</span>      master1.GUID.<span class="hljs-keyword">internal</span>
openshift-template-service-broker   apiserver-wjsth                            <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">0</span>          <span class="hljs-number">3</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.0</span><span class="hljs-number">.7</span>      master2.GUID.<span class="hljs-keyword">internal</span>
openshift-web-console               webconsole-<span class="hljs-number">7</span>f944b7c85-ldvhz                <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">2</span>          <span class="hljs-number">8</span>m        <span class="hljs-number">10.130</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span>      master3.GUID.<span class="hljs-keyword">internal</span>
openshift-web-console               webconsole-<span class="hljs-number">7</span>f944b7c85-q7jrh                <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">2</span>          <span class="hljs-number">8</span>m        <span class="hljs-number">10.129</span><span class="hljs-number">.0</span><span class="hljs-number">.3</span>      master1.GUID.<span class="hljs-keyword">internal</span>
openshift-web-console               webconsole-<span class="hljs-number">7</span>f944b7c85-zg4b9                <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running     <span class="hljs-number">2</span>          <span class="hljs-number">8</span>m        <span class="hljs-number">10.128</span><span class="hljs-number">.0</span><span class="hljs-number">.3</span>      master2.GUID.<span class="hljs-keyword">internal</span></code></pre></div></div>
<div class="ulist"><ul><li><p>This shows the results for a fully configured OpenShift cluster.</p></li></ul></div></li></ol></div></div>
<div class="sect2"><h3 id="_verify_authentication_provider_configuration">3.2. Verify Authentication Provider Configuration</h3><div class="paragraph"><p>In this section, you verify the configuration of the authentication provider by attempting to log in to the web console.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Navigate to the OpenShift Container Platform web console.</p></li><li><p>Log in using <code>payment1</code> as the username and <code>r3dh4t1!</code> as the password.</p></li><li><p>If you are unable to authenticate successfully, double-check your configuration.</p></li></ol></div></div>
<div class="sect2"><h3 id="_synchronize_groups_from_ipa_server_to_openshift_cluster">3.3. Synchronize Groups from IPA Server to OpenShift Cluster</h3><div class="olist arabic"><ol class="arabic"><li><p>Synchronize the following groups from the IPA server to your OpenShift cluster:</p><div class="ulist"><ul><li><p><code>group/portalapp</code></p></li><li><p><code>group/paymentapp</code></p></li><li><p><code>group/ocp-production</code></p></li><li><p><code>group/ocp-platform</code></p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Use the following hints to complete this task:</p><div class="ulist"><ul><li><p><strong>url</strong>: <code>ldap://ipa.shared.example.opentlc.com</code> or <code>ldaps://ipa.shared.example.opentlc.com:636</code></p></li><li><p><strong>ca</strong>: <code>/etc/origin/master/ldap_ldap_ca.crt</code></p></li><li><p><strong>bindDN</strong>: <code>uid=admin,cn=users,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com</code></p></li><li><p><strong>bindPassword</strong>: <code>r3dh4t1!</code></p></li><li><p><strong>baseDN</strong> for <strong>groupsQuery</strong>: <code>cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com</code></p></li><li><p><strong>baseDN</strong> for <strong>usersQuery</strong>: <code>cn=users,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com</code></p></li><li><p><strong>filter</strong>:</p><div class="listingblock"><div class="content"><pre class="highlight nowrap"><code class="texinfo language-texinfo hljs markdown">(&amp;(!(objectClass=mepManagedEntry))(!(cn=trust admins))(!(cn=groups))(!(cn=admins))(!(cn=ipausers))(!(cn=editors))(!(cn=ocp-users))(!(cn=evmgroup<span class="hljs-emphasis">*))(!(cn=ipac*</span>)))</code></pre></div></div></li><li><p>LDAP groups are referenced like this: <code>cn=portalapp,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com</code></p><div class="admonitionblock tip"><table><tbody><tr><td class="icon"><i class="icon-tip" title="Tip"></i></td><td class="content">The OPENTLC IPA server has a lot of groups defined. To limit the number of groups that are synced, set up a whitelist.</td></tr></tbody></table></div></li></ul></div></li><li><p>On the <code>master1</code> host, create the <code>/etc/origin/master/groupsync.yaml</code> file:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">ssh master1.<span class="hljs-variable">$GUID</span>.internal
sudo -i

cat &lt;&lt; EOF &gt; /etc/origin/master/groupsync.yaml
kind: LDAPSyncConfig
apiVersion: v1
url: <span class="hljs-string">"ldap://ipa.shared.example.opentlc.com"</span>
insecure: <span class="hljs-literal">false</span>
ca: <span class="hljs-string">"/etc/origin/master/ldap_ldap_ca.crt"</span>
<span class="hljs-built_in">bind</span>DN: <span class="hljs-string">"uid=admin,cn=users,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com"</span>
<span class="hljs-built_in">bind</span>Password: <span class="hljs-string">"r3dh4t1!"</span>
rfc2307:
    groupsQuery:
        baseDN: <span class="hljs-string">"cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com"</span>
        scope: sub
        derefAliases: never
        filter: (&amp;(!(objectClass=mepManagedEntry))(!(cn=trust admins))(!(cn=groups))(!(cn=admins))(!(cn=ipausers))(!(cn=editors))(!(cn=ocp-users))(!(cn=evmgroup*))(!(cn=ipac*)))
    groupUIDAttribute: dn
    groupNameAttributes: [ cn ]
    groupMembershipAttributes: [ member ]
    usersQuery:
        baseDN: <span class="hljs-string">"cn=users,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com"</span>
        scope: sub
        derefAliases: never
    userUIDAttribute: dn
    userNameAttributes: [ uid ]
EOF</code></pre></div></div></li><li><p>Map LDAP groups to specific names in RHOCP by adding this section to the  <code>/etc/origin/master/groupsync.yaml</code> file:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">'
groupUIDNameMapping:
  "cn=portalapp,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com": "portalapp"
  "cn=paymentapp,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com": "paymentapp"
  "cn=ocp-production,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com": "ocp-production"
  "cn=ocp-platform,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com": "ocp-platform"
  '</span> &gt;&gt;/etc/origin/master/groupsync.yaml</code></pre></div></div></li><li><p>Create the <code>/etc/origin/master/whitelist.yaml</code> file:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">cat &lt;&lt; EOF &gt; /etc/origin/master/whitelist.yaml
cn=portalapp,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com
cn=paymentapp,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com
cn=ocp-platform,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com
cn=ocp-production,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com
EOF</code></pre></div></div></li></ol></div></li></ul></div></li></ol></div></div>
<div class="sect2"><h3 id="_test_group_synchronization_optional">3.4. Test Group Synchronization (Optional)</h3><div class="olist arabic"><ol class="arabic"><li><p>Still on the <code>master1</code> host, verify user IDs:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs cs">oc <span class="hljs-keyword">get</span> users</code></pre></div></div></li><li><p>If there are users with the <code>htpasswd_auth</code> identity, delete them as shown in this example:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc delete user andrew</code></pre></div></div></li><li><p>Delete any <code>htpasswd</code> identities as shown in this example:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc delete identity htpassword:uid=andrew</code></pre></div></div></li><li><p>As a test, run the synchronization:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc adm groups sync --sync-config=/etc/origin/master/groupsync.yaml --whitelist=/etc/origin/master/whitelist.yaml</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs coffeescript"><span class="hljs-attribute">apiVersion</span>: v1
<span class="hljs-attribute">items</span>:
- <span class="hljs-attribute">apiVersion</span>: v1
  <span class="hljs-attribute">kind</span>: Group
  <span class="hljs-attribute">metadata</span>:
    <span class="hljs-attribute">annotations</span>:
      openshift.io/ldap.sync-<span class="hljs-attribute">time</span>: <span class="hljs-number">2018</span>-<span class="hljs-number">04</span>-<span class="hljs-number">18</span><span class="hljs-attribute">T20</span>:<span class="hljs-number">32</span>:<span class="hljs-number">48</span>Z
      openshift.io/ldap.<span class="hljs-attribute">uid</span>: cn=portalapp,cn=groups,cn=accounts,dc=shared,dc=example,dc=opentlc,dc=com
      openshift.io/ldap.<span class="hljs-attribute">url</span>: ipa.shared.example.opentlc.<span class="hljs-attribute">com</span>:<span class="hljs-number">389</span>
    <span class="hljs-attribute">creationTimestamp</span>: <span class="hljs-literal">null</span>
    <span class="hljs-attribute">labels</span>:
      openshift.io/ldap.<span class="hljs-attribute">host</span>: ipa.shared.example.opentlc.com
    <span class="hljs-attribute">name</span>: portalapp
  <span class="hljs-attribute">users</span>:
  - andrew
  - portal1
  - portal2
  - chenzhen
[...]</code></pre></div></div></li></ol></div></div>
<div class="sect2"><h3 id="_synchronize_groups">3.5. Synchronize Groups</h3><div class="olist arabic"><ol class="arabic"><li><p>Run the same <code>oc adm groups sync</code> command as shown in the optional section above, but add <code>--confirm</code> to create the groups:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc adm groups sync --sync-config=/etc/origin/master/groupsync.yaml --whitelist=/etc/origin/master/whitelist.yaml --confirm</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs cs"><span class="hljs-keyword">group</span>/portalapp
<span class="hljs-keyword">group</span>/paymentapp
<span class="hljs-keyword">group</span>/ocp-production
<span class="hljs-keyword">group</span>/ocp-platform</code></pre></div></div></li><li><p>Verify that the groups are created:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc get groups</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs nginx"><span class="hljs-title">NAME</span>             USERS
ocp-platform     david, admin1, admin2, luochen, loren, chenzhen
ocp-production   karla, prod1, prod2, luochen, loren, chenzhen
paymentapp       marina, payment1, payment2, chenzhen
portalapp        andrew, portal1, portal2, chenzhen</code></pre></div></div></li><li><p>Disconnect from the <code>master1</code> host and return to the <code>bastion</code> host.</p></li></ol></div></div></div></div>
<div class="sect1"><h2 id="_perform_post_installation_configuration">4. Perform Post-Installation Configuration</h2><div class="sectionbody"><div class="paragraph"><p>In this section, you perform the post-installation configuration for NFS. If you used NFS as a remote datastore, you need to create persistent volumes (PVs) for users to consume. The specifications for the PVs are as follows:</p></div>
<div class="ulist"><ul><li><p>25 PVs with these parameters:</p><div class="ulist"><ul><li><p><strong>Size</strong>: 5 GB</p></li><li><p><strong>PV access</strong>: <code>ReadWriteOnce</code></p></li><li><p><strong>ReclaimPolicy</strong>: <code>Delete</code></p></li></ul></div></li><li><p>25 PVs with these parameters:</p><div class="ulist"><ul><li><p><strong>Size</strong>: 10 GB</p></li><li><p><strong>PV access</strong>: <code>ReadWriteMany</code></p></li><li><p><strong>ReclaimPolicy</strong>: <code>Retain</code></p></li></ul></div></li></ul></div>
<div class="paragraph"><p>Here are the steps to create PVs for users:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Create directories on the <code>support1.$GUID.internal</code> NFS server to be used as PVs in the OpenShift cluster.</p><div class="admonitionblock important"><table><tbody><tr><td class="icon"><i class="icon-important" title="Important"></i></td><td class="content"><div class="paragraph"><p>These directories need to be under <code>/srv/nfs</code> because this directory is backed by a separate volume group.</p></div></td></tr></tbody></table></div></li><li><p>As <code>root</code>, paste the following into your bastion host command line:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash"><span class="hljs-built_in">export</span> GUID=`hostname|awk -F. <span class="hljs-string">'{print $2}'</span>`
<span class="hljs-built_in">echo</span> <span class="hljs-string">"export GUID=<span class="hljs-variable">$GUID</span>"</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$GUID</span>

ssh support1.<span class="hljs-variable">$GUID</span>.internal
sudo -i
mkdir -p /srv/nfs/user-vols/pv{<span class="hljs-number">1</span>..<span class="hljs-number">200</span>}

<span class="hljs-keyword">for</span> pvnum <span class="hljs-keyword">in</span> {<span class="hljs-number">1</span>..<span class="hljs-number">50</span>} ; <span class="hljs-keyword">do</span>
<span class="hljs-built_in">echo</span> /srv/nfs/user-vols/pv<span class="hljs-variable">${pvnum}</span> *(rw,root_squash) &gt;&gt; /etc/exports.d/openshift-uservols.exports
chown -R nfsnobody.nfsnobody  /srv/nfs
chmod -R <span class="hljs-number">777</span> /srv/nfs
<span class="hljs-keyword">done</span>

systemctl restart nfs-server
<span class="hljs-built_in">exit</span>
<span class="hljs-built_in">exit</span></code></pre></div></div></li><li><p>On your <code>bastion</code> host, create 25 definition files for PVs, labeled <code>pv1</code> to <code>pv25</code>, with a size of 5 GB and <code>ReadWriteOnce</code> access mode.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash"><span class="hljs-built_in">export</span> GUID=`hostname|awk -F. <span class="hljs-string">'{print $2}'</span>`

<span class="hljs-built_in">export</span> volsize=<span class="hljs-string">"5Gi"</span>
mkdir /root/pvs
<span class="hljs-keyword">for</span> volume <span class="hljs-keyword">in</span> pv{<span class="hljs-number">1</span>..<span class="hljs-number">25</span>} ; <span class="hljs-keyword">do</span>
cat &lt;&lt; EOF &gt; /root/pvs/<span class="hljs-variable">${volume}</span>
{
  <span class="hljs-string">"apiVersion"</span>: <span class="hljs-string">"v1"</span>,
  <span class="hljs-string">"kind"</span>: <span class="hljs-string">"PersistentVolume"</span>,
  <span class="hljs-string">"metadata"</span>: {
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"<span class="hljs-variable">${volume}</span>"</span>
  },
  <span class="hljs-string">"spec"</span>: {
    <span class="hljs-string">"capacity"</span>: {
        <span class="hljs-string">"storage"</span>: <span class="hljs-string">"<span class="hljs-variable">${volsize}</span>"</span>
    },
    <span class="hljs-string">"accessModes"</span>: [ <span class="hljs-string">"ReadWriteOnce"</span> ],
    <span class="hljs-string">"nfs"</span>: {
        <span class="hljs-string">"path"</span>: <span class="hljs-string">"/srv/nfs/user-vols/<span class="hljs-variable">${volume}</span>"</span>,
        <span class="hljs-string">"server"</span>: <span class="hljs-string">"support1.<span class="hljs-variable">${GUID}</span>.internal"</span>
    },
    <span class="hljs-string">"persistentVolumeReclaimPolicy"</span>: <span class="hljs-string">"Recycle"</span>
  }
}
EOF
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Created def file for <span class="hljs-variable">${volume}</span>"</span>;
<span class="hljs-keyword">done</span>;</code></pre></div></div></li><li><p>On your <code>bastion</code> host, create 25 definition files for PVs, labeled <code>pv26</code> to <code>pv50</code>, with a size of 10 GB and <code>ReadWriteMany</code> access mode.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash"><span class="hljs-built_in">export</span> GUID=`hostname|awk -F. <span class="hljs-string">'{print $2}'</span>`

<span class="hljs-built_in">export</span> volsize=<span class="hljs-string">"10Gi"</span>
<span class="hljs-keyword">for</span> volume <span class="hljs-keyword">in</span> pv{<span class="hljs-number">26</span>..<span class="hljs-number">50</span>} ; <span class="hljs-keyword">do</span>
cat &lt;&lt; EOF &gt; /root/pvs/<span class="hljs-variable">${volume}</span>
{
  <span class="hljs-string">"apiVersion"</span>: <span class="hljs-string">"v1"</span>,
  <span class="hljs-string">"kind"</span>: <span class="hljs-string">"PersistentVolume"</span>,
  <span class="hljs-string">"metadata"</span>: {
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"<span class="hljs-variable">${volume}</span>"</span>
  },
  <span class="hljs-string">"spec"</span>: {
    <span class="hljs-string">"capacity"</span>: {
        <span class="hljs-string">"storage"</span>: <span class="hljs-string">"<span class="hljs-variable">${volsize}</span>"</span>
    },
    <span class="hljs-string">"accessModes"</span>: [ <span class="hljs-string">"ReadWriteMany"</span> ],
    <span class="hljs-string">"nfs"</span>: {
        <span class="hljs-string">"path"</span>: <span class="hljs-string">"/srv/nfs/user-vols/<span class="hljs-variable">${volume}</span>"</span>,
        <span class="hljs-string">"server"</span>: <span class="hljs-string">"support1.<span class="hljs-variable">${GUID}</span>.internal"</span>
    },
    <span class="hljs-string">"persistentVolumeReclaimPolicy"</span>: <span class="hljs-string">"Retain"</span>
  }
}
EOF
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Created def file for <span class="hljs-variable">${volume}</span>"</span>;
<span class="hljs-keyword">done</span>;</code></pre></div></div></li><li><p>Use <code>oc create</code> to create all of the PVs you defined.</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">cat /root/pvs/* | oc create <span class="hljs-operator">-f</span> -</code></pre></div></div></li><li><p>Double-check your PVs:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc get pv</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="texinfo language-texinfo hljs nginx"><span class="hljs-title">NAME</span>                             CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM                                       STORAGECLASS   REASON    AGE
etcd-asb-volume                  <span class="hljs-number">10G</span>        RWO            Retain           Bound       openshift-ansible-service-broker/etcd                                <span class="hljs-number">22m</span>
logging-volume                   10Gi       RWO            Retain           Bound       logging/logging-es-<span class="hljs-number">0</span>                                                 <span class="hljs-number">22m</span>
metrics-volume                   10Gi       RWO            Retain           Bound       openshift-infra/metrics-cassandra-<span class="hljs-number">1</span>                                  <span class="hljs-number">22m</span>
prometheus-alertbuffer-volume    10Gi       RWO            Retain           Bound       openshift-metrics/prometheus-alertbuffer                             <span class="hljs-number">22m</span>
prometheus-alertmanager-volume   10Gi       RWO            Retain           Bound       openshift-metrics/prometheus-alertmanager                            <span class="hljs-number">22m</span>
prometheus-volume                10Gi       RWO            Retain           Bound       openshift-metrics/prometheus                                         <span class="hljs-number">22m</span>
pv1                              5Gi        RWO            Recycle          Available                                                                        <span class="hljs-number">3s</span>
pv10                             5Gi        RWO            Recycle          Available                                                                        <span class="hljs-number">3s</span>
pv11                             5Gi        RWO            Recycle          Available                                                                        <span class="hljs-number">3s</span>
pv12                             5Gi        RWO            Recycle          Available                                                                        <span class="hljs-number">3s</span>
pv13                             5Gi        RWO            Recycle          Available                                                                        <span class="hljs-number">3s</span>

[...]</code></pre></div></div></li></ol></div></div></div>
<div class="sect1"><h2 id="_test_cluster_setup">5. Test Cluster Setup</h2><div class="sectionbody"><div class="paragraph"><p>In order to verify that your cluster is set up correctly, it is always a good idea to execute a test. The test needs to verify that your PVs are working, you can build an application, the application image can be pushed to the registry, your pod is running, and the routers can route traffic to the application.</p></div>
<div class="paragraph"><p>You can do a simple test using the <code>nodejs-mongo-persistent</code> template. This template creates a MongoDB database with persistent storage. It also builds a Node.js application from source code and pushes it into the registry. Finally, when the application is running the route can be used to validate that the routers are working correctly.</p></div>
<div class="paragraph"><p>Make sure to create a new project for this test—it is generally a bad idea to deploy an application into the <code>default</code> project on the OpenShift cluster.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Create a new project:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc new-project smoke-test</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs nginx"><span class="hljs-title">Now</span> using project <span class="hljs-string">"smoke-test"</span> <span class="hljs-built_in">on</span> server <span class="hljs-string">"https://loadbalancer.GUID.internal:443"</span>.</code></pre></div></div>
<div class="admonitionblock tip"><table><tbody><tr><td class="icon"><i class="icon-tip" title="Tip"></i></td><td class="content"><div class="paragraph"><p>You can add applications to this project with the <code>new-app</code> command. For example, try the following to build a new example application in Ruby:</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc new-app centos/ruby-<span class="hljs-number">22</span>-centos7~https://github.com/openshift/ruby-ex.git</code></pre></div></div></td></tr></tbody></table></div></li><li><p>Create the Node.js application:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc new-app nodejs-mongo-persistent</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs cs">--&gt; Deploying template <span class="hljs-string">"openshift/nodejs-mongo-persistent"</span> to project smoke-test

     Node.js + MongoDB
     ---------
     An example Node.js application with a MongoDB database. For more information about <span class="hljs-keyword">using</span> <span class="hljs-keyword">this</span> template, including OpenShift considerations, see https:<span class="hljs-comment">//github.com/sclorg/nodejs-ex/blob/master/README.md.</span>

     <span class="hljs-function">The following <span class="hljs-title">service</span><span class="hljs-params">(s)</span> have been created <span class="hljs-keyword">in</span> your project: nodejs-mongo-persistent, mongodb.

     For more information about <span class="hljs-keyword">using</span> <span class="hljs-keyword">this</span> template, including OpenShift considerations, see https:<span class="hljs-comment">//github.com/sclorg/nodejs-ex/blob/master/README.md.</span>

     * With parameters:
        * Name</span>=nodejs-mongo-persistent
        * Namespace=openshift
        * Version of NodeJS Image=<span class="hljs-number">8</span>
        * Version of MongoDB Image=<span class="hljs-number">3.4</span>
        * Memory Limit=<span class="hljs-number">512</span>Mi
        * <span class="hljs-function">Memory <span class="hljs-title">Limit</span> <span class="hljs-params">(MongoDB)</span></span>=<span class="hljs-number">512</span>Mi
        * Volume Capacity=<span class="hljs-number">1</span>Gi
        * Git Repository URL=https:<span class="hljs-comment">//github.com/sclorg/nodejs-ex.git</span>
        * Git Reference=
        * Context Directory=
        * Application Hostname=
        * GitHub Webhook Secret=vJSPNfCK6P5p4kGcMIpyFAgblGo8uCWlBJ3b0jld <span class="hljs-preprocessor"># generated</span>
        * Generic Webhook Secret=j3nwYlRuVhbHe4LNEli0rkNV4mTV0RQeRoySewDN <span class="hljs-preprocessor"># generated</span>
        * Database Service Name=mongodb
        * MongoDB Username=user6I0 <span class="hljs-preprocessor"># generated</span>
        * MongoDB Password=PK2gdyNVHybN0mQP <span class="hljs-preprocessor"># generated</span>
        * Database Name=sampledb
        * Database Administrator Password=lAuysNJpyCcyDYgC <span class="hljs-preprocessor"># generated</span>
        * Custom NPM Mirror URL=

--&gt; Creating resources ...
    secret <span class="hljs-string">"nodejs-mongo-persistent"</span> created
    service <span class="hljs-string">"nodejs-mongo-persistent"</span> created
    route.route.openshift.io <span class="hljs-string">"nodejs-mongo-persistent"</span> created
    imagestream.image.openshift.io <span class="hljs-string">"nodejs-mongo-persistent"</span> created
    buildconfig.build.openshift.io <span class="hljs-string">"nodejs-mongo-persistent"</span> created
    deploymentconfig.apps.openshift.io <span class="hljs-string">"nodejs-mongo-persistent"</span> created
    persistentvolumeclaim <span class="hljs-string">"mongodb"</span> created
    service <span class="hljs-string">"mongodb"</span> created
    deploymentconfig.apps.openshift.io <span class="hljs-string">"mongodb"</span> created
    persistentvolumeclaim <span class="hljs-string">"mongodb"</span> created
    service <span class="hljs-string">"mongodb"</span> created
    deploymentconfig.apps.openshift.io <span class="hljs-string">"mongodb"</span> created
--&gt; Success
    Access your application via route <span class="hljs-string">'nodejs-mongo-persistent-smoke-test.apps.GUID.example.opentlc.com'</span>
    Build scheduled, use <span class="hljs-string">'oc logs -f bc/nodejs-mongo-persistent'</span> to track its progress.
    Run <span class="hljs-string">'oc status'</span> to view your app.</code></pre></div></div></li><li><p>Examine the project status:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc status</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs nginx"><span class="hljs-title">In</span> project smoke-test <span class="hljs-built_in">on</span> server <span class="hljs-url">https://loadbalancer.GUID.internal:443</span>

svc/mongodb - <span class="hljs-number">172.30.76.184:27017</span>
  dc/mongodb deploys openshift/mongodb:<span class="hljs-number">3</span>.<span class="hljs-number">4</span>
    deployment <span class="hljs-comment">#1 pending 1 second ago</span>

<span class="hljs-url">http://nodejs-mongo-persistent-smoke-test.apps.GUID.example.opentlc.com</span> (svc/nodejs-mongo-persistent)
  dc/nodejs-mongo-persistent deploys istag/nodejs-mongo-persistent:latest &lt;-
    bc/nodejs-mongo-persistent source builds <span class="hljs-url">https://github.com/sclorg/nodejs-ex.git</span> <span class="hljs-built_in">on</span> openshift/nodejs:<span class="hljs-number">8</span>
      build <span class="hljs-comment">#1 pending for 2 seconds</span>
    deployment <span class="hljs-comment">#1 waiting on image or update</span>

<span class="hljs-number">1</span> <span class="hljs-built_in">info</span> identified, use <span class="hljs-string">'oc status --suggest'</span> to see details.</code></pre></div></div></li><li><p>Watch the build and <code>mongodb</code> pods:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc get pods -w</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs nginx"><span class="hljs-title">NAME</span>                              READY     STATUS              RESTARTS   AGE
mongodb-<span class="hljs-number">1</span>-deploy                  <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       ContainerCreating   <span class="hljs-number">0</span>          <span class="hljs-number">3s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-build   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Init:<span class="hljs-number">0</span>/<span class="hljs-number">2</span>            <span class="hljs-number">0</span>          <span class="hljs-number">4s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-build   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Init:<span class="hljs-number">0</span>/<span class="hljs-number">2</span>   <span class="hljs-number">0</span>         <span class="hljs-number">7s</span>
mongodb-<span class="hljs-number">1</span>-6z7f6   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Pending   <span class="hljs-number">0</span>         <span class="hljs-number">1s</span>
mongodb-<span class="hljs-number">1</span>-6z7f6   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Pending   <span class="hljs-number">0</span>         <span class="hljs-number">1s</span>
mongodb-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running   <span class="hljs-number">0</span>         <span class="hljs-number">8s</span>
mongodb-<span class="hljs-number">1</span>-6z7f6   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       ContainerCreating   <span class="hljs-number">0</span>         <span class="hljs-number">1s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-build   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Init:<span class="hljs-number">1</span>/<span class="hljs-number">2</span>   <span class="hljs-number">0</span>         <span class="hljs-number">14s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-build   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       PodInitializing   <span class="hljs-number">0</span>         <span class="hljs-number">15s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-build   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running   <span class="hljs-number">0</span>         <span class="hljs-number">17s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-build   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Completed   <span class="hljs-number">0</span>         <span class="hljs-number">53s</span>
mongodb-<span class="hljs-number">1</span>-6z7f6   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Running   <span class="hljs-number">0</span>         <span class="hljs-number">45s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Pending   <span class="hljs-number">0</span>         <span class="hljs-number">0s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Pending   <span class="hljs-number">0</span>         <span class="hljs-number">0s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       ContainerCreating   <span class="hljs-number">0</span>         <span class="hljs-number">0s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-skw82   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Pending   <span class="hljs-number">0</span>         <span class="hljs-number">0s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-skw82   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Pending   <span class="hljs-number">0</span>         <span class="hljs-number">0s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-skw82   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       ContainerCreating   <span class="hljs-number">0</span>         <span class="hljs-number">0s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running   <span class="hljs-number">0</span>         <span class="hljs-number">3s</span>
mongodb-<span class="hljs-number">1</span>-6z7f6   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running   <span class="hljs-number">0</span>         <span class="hljs-number">52s</span>
mongodb-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Completed   <span class="hljs-number">0</span>         <span class="hljs-number">59s</span>
mongodb-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Terminating   <span class="hljs-number">0</span>         <span class="hljs-number">59s</span>
mongodb-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Terminating   <span class="hljs-number">0</span>         <span class="hljs-number">59s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-skw82   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Running   <span class="hljs-number">0</span>         <span class="hljs-number">18s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-skw82   <span class="hljs-number">1</span>/<span class="hljs-number">1</span>       Running   <span class="hljs-number">0</span>         <span class="hljs-number">25s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Completed   <span class="hljs-number">0</span>         <span class="hljs-number">28s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Terminating   <span class="hljs-number">0</span>         <span class="hljs-number">28s</span>
nodejs-mongo-persistent-<span class="hljs-number">1</span>-deploy   <span class="hljs-number">0</span>/<span class="hljs-number">1</span>       Terminating   <span class="hljs-number">0</span>         <span class="hljs-number">28s</span></code></pre></div></div></li><li><p>Verify that the storage was set up correctly:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc get pvc</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs nginx"><span class="hljs-title">NAME</span>      STATUS    VOLUME  CAPACITY   ACCESS MODES   STORAGECLASS  AGE
mongodb   Bound     vol51   1Gi        RWO                          <span class="hljs-number">22m</span></code></pre></div></div></li><li><p>When the build is finished and the <code>mongodb</code> and <code>nodejs-mongo-persistent</code> pods are running—showing <code>1/1</code> in the <strong>READY</strong> column—retrieve the route:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc get route</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="texinfo language-texinfo hljs apache"><span class="hljs-keyword">NAME</span>                      HOST/PORT                                                          PATH      SERVICES                  PORT      TERMINATION   WILDCARD
<span class="hljs-keyword">nodejs</span>-mongo-persistent   nodejs-mongo-persistent-smoke-test.apps.GUID.example.opentlc.com             nodejs-mongo-persistent   &lt;<span class="hljs-literal">all</span>&gt;                   None</code></pre></div></div></li><li><p>In a web browser, navigate to the route (replacing <code>GUID</code> with your specific GUID).</p><div class="ulist"><ul><li><p>Expect your application to be running and showing a database connection in the bottom right portion of the page.</p></li></ul></div></li><li><p>Delete your <code>smoke-test</code> project:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="sh language-sh hljs bash">oc delete project smoke-test</code></pre></div></div></li></ol></div>
<div class="paragraph"><p>This completes the lab. You can be reasonably certain that most aspects of your cluster work satisfactorily.</p></div></div></div></div><div id="footer"><div id="footer-text"><br>Build Version: 2.12   :   Last updated 2019-03-27 09:54:17 EDT</div></div></body></html>